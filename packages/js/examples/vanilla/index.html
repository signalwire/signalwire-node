<!DOCTYPE html>
<html>
<head>
	<title>Signalwire Vanilla Demo</title>
	<script type="text/javascript" src="index.min.js"></script>
	<script type="text/javascript" src="index.js"></script>
	<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
	<style type="text/css" src="index.css"></style>
	<link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
	<h1>Signalwire Vanilla Demo</h1>

	This demo is designed to be simple and easy to understand using vanilla javascript. Fill in right project and token and click <strong>Connect</strong> and then <strong>Call</strong>. Check the bottom of this page for a little more detailed instruction.
	<br/>
	<br/>

	<div class="row">
		<div class="half-page">
			<label for="project">Project:</label>
			<input type="text" id='project' onchange="save_params(event)">
			<br />
			<label for="token">JWT:</label>
			<input type="text" id='token' onchange="save_params(event)">
			<br />
			<br />
			<label for="client">&nbsp;</label>
			<button id="btnConnect" onclick="connect()">Connect</button>
			<button id="btnDisconnect" onclick="disconnect()" disabled="true">Disconnect</button>
			<span id='connectStatus'></span>
		</div>
		<div id="callCommands" class="half-page" style="display:none;">
			<label for="number">Number:</label>
			<input type="text" id="number" value="9196" onchange="save_params(event)">
			<br />
			<label for="audio">Audio:</label>
			<input type="checkbox" id="audio" value="1" onchange="save_params(event)">
			<br />
			<label for="video">Video:</label>
			<input type="checkbox" id="video" value="1" onchange="save_params(event)">
			<br />
			<label for="client">&nbsp;</label>
			<button id="startCall" onClick="makeCall()" disabled="true">Call</button>
		</div>
	</div>
	<br />

	<!-- <div class="half-page">
		<video id="localVideo" autoplay="true" style="display:none;"></video>
	</div> -->

	<div id="confCommands" class="row text-center" style="display:none;">
		<h4>Call Controls</h4>
		<button id="hangupCall" onClick="hangup()" disabled="true">Hangup</button>
		<button id="startScreenShare">Screen Share</button>
		<button class="dtmf" onClick="cur_call.dtmf('0')">DTMF-0</button>
		<br/>
		<button onClick="cur_call.microphone.mute()">Mute</button>
		<button onClick="cur_call.microphone.unmute()">unMute</button>
		<button onClick="cur_call.microphone.toggleMute()">Toggle Mute</button>
		<button onClick="cur_call.speaker.mute()">Deaf</button>
		<button onClick="cur_call.speaker.unmute()">unDeaf</button>
		<button onClick="cur_call.webcam.mute()">VMute</button>
		<button onClick="cur_call.webcam.unmute()">unVMute</button>
		<button onClick="cur_call.webcam.toggleMute()">Toggle VMute</button>
		<br />
		<ul id="participants"></ul>
	</div>

	<div class="row text-center">
		<video id="remoteVideo" autoplay="true" playsinline style="display:none;"></video>
	</div>


	<div class="clear"></div>

	<br/>
	<br/>
	Tips:
	<ul>
		<li>Chome requires https/wss to work with WebRTC, however, it will work with plain http if you use a local file origin or localhost origin.</li>
		<li>1) Double click and open the index.html file. or,</li>
		<li>2) Use any webserver or use python: <pre>python -m SimpleHTTPServer .</pre></li>
		<li>Open <a href="http://localhost:8000">http://localhost:8000</a></li>
	</ul>
</body>
</html>
